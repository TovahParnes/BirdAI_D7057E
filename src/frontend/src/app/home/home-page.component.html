<div class="navbar" *ngIf="socialAuthService.authState | async as socialUser">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"/>

  <div class="nav-logo">
    <img src="../assets/birdAI-logo.svg" width="40px" height="40px">
  </div>

  <div class="nav-buttons">
    <button class="selected-nav-button" (click)="navigateToHome()"><span class="material-symbols-outlined">home</span></button>
    <button class="nav-button" (click)="navigateToTakenImages()"><span class="material-symbols-outlined">image</span></button>
    <button class="nav-button" (click)="navigateToLibrary()"><span class="material-symbols-outlined">grid_view</span></button>  
  </div>

  <div class="profile">
    <button class="profile-button" tabindex="0">
      <img src="{{socialUser.photoUrl}}" width="40px" height="40px" style="border-radius: 50%;">
    </button> 
    <ul class="sub-menu">
      <button class="sub-menu-button" (click)="navigateToProfilePage()">{{socialUser.name}}<span class="material-symbols-outlined">chevron_right</span></button><br>
      <mat-slide-toggle [(ngModel)]="mainApp.isDark">Darkmode</mat-slide-toggle><br>
      <button class="sub-menu-button" (click)="logout()">Logout</button>
    </ul>
  </div>
</div>

<p></p>
<mat-card class="card">
  <h1 style="margin-top: 0px;">Welcome to Bird AI</h1>
  <p>With the help of ai figure out what kind of bird it is you found</p>
  
  <mat-vertical-stepper #stepper>
    <form [formGroup]="form">

    <mat-step>
      <ng-template matStepLabel>Select type of media</ng-template>
      <mat-radio-group formControlName="option">
        <mat-radio-button value="option1">Image</mat-radio-button><br>
        <mat-radio-button value="option2">Sound</mat-radio-button>
      </mat-radio-group>
      <br/>

      <div>
        <button mat-button matStepperNext>Next</button>
      </div>

    </mat-step>

    <mat-step *ngIf="form.value.option === 'option1'">
        <ng-template matStepLabel>Select the Image</ng-template>       
        <input type="file" (change)="onFileSelected($event)" accept="image/*" style="padding-top: 6px"/>
        <img *ngIf="selectedImage" [src]="selectedImage" alt="Selected Image" width="200" />
  
        <div style="padding-top: 6px">
          <button mat-button matStepperPrevious style="margin-right: 6px;">Back</button>
          <button mat-raised-button color="primary" type="button" (click)="onSubmit()" [disabled]="!selectedImage">Submit</button>
        </div>

    </mat-step>

    <mat-step *ngIf="form.value.option === 'option2'">
      <ng-template matStepLabel>Select the Sound</ng-template>
      <p>Not implemented</p>

      <div>
        <button mat-button matStepperPrevious style="margin-right: 6px;">Back</button>
        <button mat-button matStepperNext disabled>Submit</button>
      </div>
      
    </mat-step>
    </form>

  </mat-vertical-stepper>
</mat-card>

